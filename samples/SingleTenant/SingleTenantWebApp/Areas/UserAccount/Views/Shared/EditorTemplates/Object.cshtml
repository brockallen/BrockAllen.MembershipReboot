@{
    foreach(var prop in this.ViewData.ModelMetadata.Properties)
    {
        if (prop.ShowForEdit)
        {
            <div>
                @if (prop.TemplateHint == "HiddenInput")
                {
                    @Html.Hidden(prop.PropertyName)
                }
                else
                {
                    @Html.Label(prop.PropertyName)
                    @:
                    if(prop.IsReadOnly)
                    {
                        @Html.Display(prop.PropertyName)
                    }
                    else
                    {
                        @Html.Editor(prop.PropertyName)
                        @:
                        @Html.ValidationMessage(prop.PropertyName)
                        @:
                    }
                }
            </div>
        }
    }
}